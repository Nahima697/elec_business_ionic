<ion-content color="light">

  <div class="max-w-5xl mx-auto px-6 pt-12 pb-10">

    <!-- Header -->
    <div class="flex justify-between items-start mb-10">
      <div>
        <p class="text-xs font-semibold uppercase tracking-wider mb-2"
           style="color: var(--ion-color-medium);">
          Tableau de bord
        </p>

        <h1 class="text-4xl font-extrabold leading-tight"
            style="color: var(--ion-text-color);">
          Bonjour,
          <span style="color: var(--ion-color-primary);">
            {{ (authService.user()?.username | titlecase) || 'Utilisateur' }}
          </span>
        </h1>

        <p class="mt-3 text-sm max-w-lg"
           style="color: var(--ion-color-medium);">
          Gérez vos bornes, vos réservations et votre profil depuis votre espace personnel.
        </p>
      </div>

      <div routerLink="/profile"
           class="h-14 w-14 rounded-full p-1 cursor-pointer hover:scale-105 transition-transform"
           style="
             background: var(--ion-color-light);
             border: 1.5px solid rgba(var(--ion-color-primary-rgb), 0.35);
           ">
        <img
          src="assets/images/avatar-placeholder.png"
          class="h-full w-full rounded-full object-cover"
          alt="Avatar"
        />
      </div>
    </div>

    <!-- Interface selector -->
    <div class="rounded-2xl p-6 mb-10"
         style="
           background: var(--ion-color-light);
           border: 1.5px solid rgba(var(--ion-color-primary-rgb), 0.3);
         ">

      <div class="flex flex-col md:flex-row items-center justify-between gap-6">
        <div>
          <h2 class="text-lg font-bold"
              style="color: var(--ion-text-color);">
            Votre interface
          </h2>
          <p class="text-sm mt-1"
             style="color: var(--ion-color-medium);">
            Basculez entre le mode Propriétaire et Locataire.
          </p>
        </div>

        <app-role-selector
          (roleSelected)="onRoleSelected($event)">
        </app-role-selector>
      </div>
    </div>

    <!-- Infos -->
    <h3 class="text-lg font-bold mb-4"
        style="color: var(--ion-text-color);">
      En bref
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-5">

      <!-- Card 1 -->
      <div class="p-5 rounded-2xl transition-transform hover:scale-[1.02]"
           style="
             background: linear-gradient(
               180deg,
               rgba(var(--ion-color-success-rgb), 0.08),
               var(--ion-color-light)
             );
             border: 1.5px solid rgba(var(--ion-color-success-rgb), 0.35);
           ">

        <div class="h-11 w-11 rounded-xl flex items-center justify-center mb-3"
             style="
               background: rgba(var(--ion-color-success-rgb), 0.18);
               color: var(--ion-color-success);
             ">
          <ion-icon name="shield-checkmark-outline" class="text-xl"></ion-icon>
        </div>

        <h4 class="font-bold text-sm"
            style="color: var(--ion-text-color);">
          Paiement sécurisé
        </h4>

        <p class="text-xs mt-1"
           style="color: var(--ion-color-medium);">
          Transactions chiffrées et protégées.
        </p>
      </div>

      <!-- Card 2 -->
      <div class="p-5 rounded-2xl transition-transform hover:scale-[1.02]"
           style="
             background: linear-gradient(
               180deg,
               rgba(var(--ion-color-primary-rgb), 0.08),
               var(--ion-color-light)
             );
             border: 1.5px solid rgba(var(--ion-color-primary-rgb), 0.35);
           ">

        <div class="h-11 w-11 rounded-xl flex items-center justify-center mb-3"
             style="
               background: rgba(var(--ion-color-primary-rgb), 0.18);
               color: var(--ion-color-primary);
             ">
          <ion-icon name="headset-outline" class="text-xl"></ion-icon>
        </div>

        <h4 class="font-bold text-sm"
            style="color: var(--ion-text-color);">
          Support 24/7
        </h4>

        <p class="text-xs mt-1"
           style="color: var(--ion-color-medium);">
          Une équipe disponible à tout moment.
        </p>
      </div>

      <!-- Card 3 -->
      <div class="p-5 rounded-2xl transition-transform hover:scale-[1.02]"
           style="
             background: linear-gradient(
               180deg,
               rgba(var(--ion-color-primary-rgb), 0.08),
               var(--ion-color-light)
             );
             border: 1.5px solid rgba(var(--ion-color-primary-rgb), 0.35);
           ">

        <div class="h-11 w-11 rounded-xl flex items-center justify-center mb-3"
             style="
               background: rgba(var(--ion-color-primary-rgb), 0.18);
               color: var(--ion-color-primary);
             ">
          <ion-icon name="map-outline" class="text-xl"></ion-icon>
        </div>

        <h4 class="font-bold text-sm"
            style="color: var(--ion-text-color);">
          Réseau étendu
        </h4>

        <p class="text-xs mt-1"
           style="color: var(--ion-color-medium);">
          Des milliers de bornes disponibles.
        </p>
      </div>

    </div>

  </div>
</ion-content>
